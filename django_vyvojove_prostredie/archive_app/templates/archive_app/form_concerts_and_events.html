{% extends 'archive_app/index.html' %}
{% load static %}
{% block content %}
<section class="content">
    <link rel="stylesheet" href="{%  static 'archive_app/form_concerts_and_events.css' %}">
    <div class="form-container">
        <h2>Nový koncert/podujatie</h2>

        <form>
            <div class="form-group">
                <label for="date">Dátum :</label>
                <input type="date" id="date" name="date">
            </div>

            <div class="form-group">
                <label for="event-type">Koncert/podujatie :</label>
                <select id="event-type" name="event-type">
                    <option value="koncert">Koncert</option>
                    <option value="podujatie">Podujatie</option>
                </select>
            </div>

            <div class="form-group">
                <label for="title">Názov :</label>
                <input type="text" id="title" name="title" placeholder="Názov koncertu / podujatia">
            </div>

            <div class="form-group">
                <label for="description">Popis :</label>
                <textarea id="description" name="description" rows="5" placeholder="Sem píšte popis..."></textarea>
            </div>

            <h3>Inscenačný tím :</h3>
            <div class="form-group">
                <label for="director">Réžia :</label>
                <select id="director" name="director">
                    <option value="">-</option>
                </select>
            </div>

            <div class="form-group">
                <label for="scene">Scéna :</label>
                <select id="scene" name="scene">
                    <option value="">-</option>
                </select>
            </div>

            <div class="form-group">
                <label for="dramaturgy">Dramaturg :</label>
                <select id="dramaturgy" name="dramaturgy">
                    <option value="">-</option>
                </select>
            </div>

            <h3>Účinkujúci :</h3>
            <div class="form-group">
                <label for="position">Zaradenie :</label>
                <select id="position" name="position">
                    <option value="">-</option>
                </select>
                <button type="button" class="btn">&#10006;</button>
            </div>

            <div class="form-group">
                <label></label>
                <button type="button" class="btn">&#10010;</button>
            </div>

            <h3> Prílohy:</h3>
            <div class="form-group upload-section">
                 <label class="upload-label">Program&ensp;
                    <input type="file" id="file-upload-1" class="file-input" accept="image/*, .pdf, .doc, .docx">
                    <span class="btn">Prilož súbor</span>
                    <img id="file-preview-1" class="file-preview">
                </label>
                <br>
                <label class="upload-label">Fotografie&ensp;
                    <input type="file" id="file-upload-2" class="file-input" accept="image/*, .pdf, .doc, .docx">
                    <span class="btn">Prilož súbor</span>
                    <img id="file-preview-2" class="file-preview">
                </label>
            </div>

            <div class="form-actions">
                <label for="publish" class="publish">
                    <input type="checkbox" id="publish">Zverejniť
                </label>
                <button type="submit" class="submit">Uložiť</button>
            </div>
        </form>
    </div>
</section>

    <script>
        document.querySelectorAll('.file-input').forEach((input) => {
            input.addEventListener('change', function () {
                let file = this.files[0];
                let previewElement = document.getElementById('file-preview-' + this.id.split('-')[2]);

                if (file) {
                    // Check if the file is an image
                    if (file.type.startsWith('image/')) {
                        let reader = new FileReader();
                        reader.onload = function (e) {
                            previewElement.src = e.target.result;
                            previewElement.style.display = 'block';
                        };
                        reader.readAsDataURL(file);
                    } else {
                        previewElement.style.display = 'none';
                    }

                    this.nextElementSibling.textContent = "Súbor prijatý";
                }
            });
        });

    </script>
{% endblock %}
